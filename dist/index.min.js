(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define('NodeMazeGenerator',[],b):'object'==typeof exports?exports.NodeMazeGenerator=b():a.NodeMazeGenerator=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=1)}([function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var c={LEFT:Symbol('LEFT'),RIGHT:Symbol('RIGHT'),UP:Symbol('UP'),DOWN:Symbol('DOWN')};c.all=Object.values(c),b.default=Object.freeze(c)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(2),e=function(a){return a&&a.__esModule?a:{default:a}}(d);b.default=e.default},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(3),h=d(g),i=c(0),j=d(i);console.log('Directions',j.default);var k=function(){function a(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[0,0];e(this,a),this._width=b,this._height=c,this._maze=[],this._stack=[],this._start=d}return f(a,[{key:'getNeighbour',value:function(a,b,c){switch(c){case j.default.LEFT:return 0<a?this.getCell(a-1,b):null;case j.default.RIGHT:return a<this.Width-1?this.getCell(a+1,b):null;case j.default.UP:return 0<b?this.getCell(a,b-1):null;case j.default.DOWN:return b<this.Height-1?this.getCell(a,b+1):null;default:var d=c.toString();throw new Error('No such direction:'+d);}}},{key:'getCell',value:function(a,b){if(0>a||0>b||a>this.Width-1||b>this.Height-1)return null;var c=this._maze[b*this.Width+a];return c||(c=new h.default(a,b),this._setCell(a,b,c)),c}},{key:'generate',value:function(){this._stack=[],this._maze=[];var a=this.getCell(this.Start[0],this.Start[1]);return a.Visited=!0,this._gen_next(a),this.Maze}},{key:'opposingDir',value:function(a){return a===j.default.LEFT?j.default.RIGHT:a===j.default.RIGHT?j.default.LEFT:a===j.default.UP?j.default.DOWN:a===j.default.DOWN?j.default.UP:void 0}},{key:'cellDirectionOpen',value:function(a,b){if(!a.HasWall(b)){var c=this.getNeighbour(a.X,a.Y,b);if(null===c)return console.log('no cell neigh',a),!1;var d=this.opposingDir(b);if(c.HasWall(d))throw new Error('Should not be possible');return!0}return!1}},{key:'_gen_next',value:function(a){var b=this._pickNeighbour(a);b?(this._stack.push(a),a.RemoveWall(b.dir),b.neigh.RemoveWall(this.opposingDir(b.dir)),b.neigh.Visited=!0,this._gen_next(b.neigh)):(b=this._stack.pop(),b&&this._gen_next(b))}},{key:'_setCell',value:function(a,b,c){return this._maze[b*this.Width+a]=c,c}},{key:'_pickNeighbour',value:function(a){var b=this,c=j.default.all,d=c.map(function(c){return{dir:c,neigh:b.getNeighbour(a.X,a.Y,c)}}).filter(function(a){return null!==a.neigh}).filter(function(a){return!a.neigh.Visited});if(0===d.length)return null;var e=~~(Math.random()*d.length),f=d[e];return f}},{key:'Width',get:function(){return this._width}},{key:'Height',get:function(){return this._height}},{key:'Start',get:function(){return this._start},set:function(a){this._start=[a[0],a[1]]}},{key:'Maze',get:function(){return this._maze}}]),a}();b.default=k},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b,c){d(this,a),this._x=b,this._y=c,this._visited=!1,this._walls={},this.AddWall(g.default.LEFT),this.AddWall(g.default.RIGHT),this.AddWall(g.default.UP),this.AddWall(g.default.DOWN)}return e(a,[{key:'HasWall',value:function(a){return this.Walls[a]}},{key:'AddWall',value:function(a){this.Walls[a]=!0}},{key:'RemoveWall',value:function(a){this.Walls[a]=!1}},{key:'toNumber',value:function(){var a=this,b=g.default.all,c=b.map(function(b){return!0===a.Walls[b]?1:0});return c.reduce(function(b,a){return b<<1|a},this.Visited?0:1)}},{key:'Visited',get:function(){return this._visited},set:function(a){this._visited=a}},{key:'X',get:function(){return this._x}},{key:'Y',get:function(){return this._y}},{key:'Walls',get:function(){return this._walls}}]),a}();b.default=h}])});